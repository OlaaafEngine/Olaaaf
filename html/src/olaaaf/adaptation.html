<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>src.olaaaf.adaptation API documentation</title>
<meta name="description" content="Main class of the module, allowing the user to make the adaptation between two `olaaaf.formula.formula.Formula`
\(src\) and \(tgt\) that are constraints.">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ], processEscapes: true } });</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>src.olaaaf.adaptation</code></h1>
</header>
<section id="section-intro">
<p>Main class of the module, allowing the user to make the adaptation between two <code>olaaaf.formula.formula.Formula</code>
<span><span class="MathJax_Preview">src</span><script type="math/tex">src</script></span> and <span><span class="MathJax_Preview">tgt</span><script type="math/tex">tgt</script></span> that are constraints.</p>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="src.olaaaf.adaptation.Adaptation"><code class="flex name class">
<span>class <span class="ident">Adaptation</span></span>
<span>(</span><span>solverInit: MLOSolver, distance: DistanceFunction, simplifiers: list[Simplificator] = [], onlyOneSolution: bool = True, verbose: bool = True, projector: Projector = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Main class of the module, allowing the user to make the adaptation between two <code>olaaaf.formula.formula.Formula</code>
<span><span class="MathJax_Preview">src</span><script type="math/tex">src</script></span> and <span><span class="MathJax_Preview">tgt</span><script type="math/tex">tgt</script></span> that are constraints.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>solverInit</code></strong> :&ensp;<code>olaaaf.mlo_solver.MLOSolver.MLOSolver</code></dt>
<dd>The solver that will be used for optimization.</dd>
<dt><strong><code>distance</code></strong> :&ensp;<code>olaaaf.distance.distance_function.distanceFunction.DistanceFunction</code></dt>
<dd>The distance function that will be used and, more importantly, the weights <span><span class="MathJax_Preview">(w_i)</span><script type="math/tex">(w_i)</script></span> and <span><span class="MathJax_Preview">\varepsilon</span><script type="math/tex">\varepsilon</script></span> arguments of it.
The original algorithm is meant to be used with a <code>olaaaf.distance.distance_function.discreteL1DistanceFunction.DiscreteL1DistanceFunction</code>.</dd>
<dt><strong><code>simplifiers</code></strong> :&ensp;<code>list</code> of <code>olaaaf.simplificator.simplificator.Simplificator</code>, optional</dt>
<dd>List of all of the <code>olaaaf.simplificator.simplificator.Simplificator</code> that will be applied to the <code>olaaaf.formula.formula.Formula</code>,
in order given by the list.</dd>
<dt><strong><code>onlyOneSolution</code></strong> :&ensp;<code>boolean</code>, optional</dt>
<dd>If set to <code>True</code>, the adaptation algorithm will only return one solution.
If not, it will return all solutions.
By default, this constant is set to whichever one was chosen in <code>olaaaf.constants.Constants</code>.</dd>
<dt><strong><code>verbose</code></strong> :&ensp;<code>boolean</code>, optional</dt>
<dd>If set to <code>True</code>, the adaptation algorithm will have a verbose display in the terminal.
By default, this constant is set to whichever one was chosen in <code>olaaaf.constants.Constants</code>.</dd>
<dt><strong><code>projector</code></strong> :&ensp;<code>boolean</code>, optional</dt>
<dd>Projector algorithm to use, only necessary if <code>onlyOneSolution</code> is set to <code>False</code>.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Adaptation:
    r&#34;&#34;&#34;
    Main class of the module, allowing the user to make the adaptation between two `olaaaf.formula.formula.Formula`
    \(src\) and \(tgt\) that are constraints.

    Parameters
    ----------
    solverInit : olaaaf.mlo_solver.MLOSolver.MLOSolver
        The solver that will be used for optimization.
    distance : olaaaf.distance.distance_function.distanceFunction.DistanceFunction
        The distance function that will be used and, more importantly, the weights \((w_i)\) and \(\varepsilon\) arguments of it.
        The original algorithm is meant to be used with a `olaaaf.distance.distance_function.discreteL1DistanceFunction.DiscreteL1DistanceFunction`.
    simplifiers : list of olaaaf.simplificator.simplificator.Simplificator, optional
        List of all of the `olaaaf.simplificator.simplificator.Simplificator` that will be applied to the `olaaaf.formula.formula.Formula`, 
        in order given by the list.
    onlyOneSolution : boolean, optional
        If set to `True`, the adaptation algorithm will only return one solution.
        If not, it will return all solutions.
        By default, this constant is set to whichever one was chosen in `olaaaf.constants.Constants`.
    verbose : boolean, optional
        If set to `True`, the adaptation algorithm will have a verbose display in the terminal.
        By default, this constant is set to whichever one was chosen in `olaaaf.constants.Constants`.
    projector : boolean, optional
        Projector algorithm to use, only necessary if `onlyOneSolution` is set to `False`.
    &#34;&#34;&#34;

    __revision : Revision

    def __init__(self, solverInit : MLOSolver, distance : DistanceFunction, simplifiers : list[Simplificator] = [], onlyOneSolution: bool = Constants.ONLY_ONE_SOLUTION, verbose: bool = Constants.SET_VERBOSE, projector: Projector = None) -&gt; None:        
        
        self.__revision = Revision(solverInit, distance, simplifiers, onlyOneSolution, verbose, projector)

    def preload(self):
        r&#34;&#34;&#34;
        Methd used to preload the adaptation algorithm.

        This step is necessary before using `execute` and recommended before the domain knowledge definition since it translates every
        non-`olaaaf.formula.nullaryFormula.constraint.linearConstraint.LinearConstraint` into one and introduces new under-the-box variables that the user might want to use.
        &#34;&#34;&#34;

        self.__revision.preload()

    def execute(self, srce_case : Formula, trgt : Formula, domainKnowledge: dict[str, DomainKnowledge],\
                domainKnowledgeInclusion: dict[str, bool] = {}, withTableaux: bool = True, withMaxDist: bool = True):
        r&#34;&#34;&#34;
        Execute the adaptation of \(srce_case\) by \(tgt_problem\), with the domain knowledge \(DK\).

        Parameters
        ----------
        srce_case : `olaaaf.formula.formula.Formula`
            \(srce_case\), source case for the adaptation and `olaaaf.formula.formula.Formula` that will be adapted.
        tgt_problem : `olaaaf.formula.formula.Formula`
            \(tgt_problem\), target problem for the adaptation and `olaaaf.formula.formula.Formula` that will be used to adapt \(srce_case\) by.
        domainKnowledge : `dict[str, olaaaf.domainKnowledge.domainKnowledge.DomainKnowledge]`
            \(DK\), the domain knowledges to use.
            Currently, the only officialy supported keys are &#34;conversion&#34;, &#34;existence&#34;, &#34;taxonomy&#34; and &#34;miscellanous&#34;,
            corresponding to their eponym object from `olaaaf.domainKnowledge`.
            The order on which the domain knowledges are given in this dictionary is the order in which they will be used for the inference process.
            Therefore, it is heavily recommended to have the domain knowledge in the following order: &#34;conversion&#34;, &#34;existence&#34;, &#34;taxonomy&#34; and &#34;miscellanous&#34;.
        domainKnowledgeInclusion : `dict[str, boolean]`
            Wether the corresponding domain knowledge should be used in the knowledge revision process.
            By default, all domain knowledge are used.
            Removing specific domain knowledges from this process will result in faster computation time, but might affect the result.
        withTableaux: `boolean`
            Wether the analytic tableaux method should be used to prune unsatisfiable branches. By default, set to `True`.
        withMaxDist: `boolean`
            Wether the currently known maximum distance should be used during the revision process. By default, set to `True`.
            
        Returns
        -------
        Fraction
            Distance (calculated with the `olaaaf.distance.distance_function.distanceFunction.DistanceFunction`
            given at the initialization of the class) between \(srce_case\) and \(tgt_problem\).
        `olaaaf.formula.formula.Formula`
            Result of the adaptation of \(srce_case\) by \(tgt_problem\).
        &#34;&#34;&#34;

        dkSet = set()

        # Populate domainKnowledgeInclusion with default values for non filled keys
        for key, value in Constants.DOMAIN_KNOWLEDGE_INCLUSION_DEFAULT.items():
            if domainKnowledgeInclusion.get(key) is None:
                domainKnowledgeInclusion[key] = value

        for key, dk in domainKnowledge.items():
            srce_case = dk.inferFrom(srce_case)
            trgt = dk.inferFrom(trgt)

            if domainKnowledgeInclusion[key]:
                dkSet.add(dk.toConstraints())

        dk = And(*dkSet)

        return self.__revision.execute(srce_case &amp; dk, trgt &amp; dk, withTableaux=withTableaux, withMaxDist=withMaxDist)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="src.olaaaf.adaptation.Adaptation.execute"><code class="name flex">
<span>def <span class="ident">execute</span></span>(<span>self, srce_case: Formula, trgt: Formula, domainKnowledge: dict[str, DomainKnowledge], domainKnowledgeInclusion: dict[str, bool] = {}, withTableaux: bool = True, withMaxDist: bool = True)</span>
</code></dt>
<dd>
<div class="desc"><p>Execute the adaptation of <span><span class="MathJax_Preview">srce_case</span><script type="math/tex">srce_case</script></span> by <span><span class="MathJax_Preview">tgt_problem</span><script type="math/tex">tgt_problem</script></span>, with the domain knowledge <span><span class="MathJax_Preview">DK</span><script type="math/tex">DK</script></span>.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>srce_case</code></strong> :&ensp;<code>olaaaf.formula.formula.Formula</code></dt>
<dd><span><span class="MathJax_Preview">srce_case</span><script type="math/tex">srce_case</script></span>, source case for the adaptation and <code>olaaaf.formula.formula.Formula</code> that will be adapted.</dd>
<dt><strong><code>tgt_problem</code></strong> :&ensp;<code>olaaaf.formula.formula.Formula</code></dt>
<dd><span><span class="MathJax_Preview">tgt_problem</span><script type="math/tex">tgt_problem</script></span>, target problem for the adaptation and <code>olaaaf.formula.formula.Formula</code> that will be used to adapt <span><span class="MathJax_Preview">srce_case</span><script type="math/tex">srce_case</script></span> by.</dd>
<dt><strong><code>domainKnowledge</code></strong> :&ensp;<code>dict[str, olaaaf.domainKnowledge.domainKnowledge.DomainKnowledge]</code></dt>
<dd><span><span class="MathJax_Preview">DK</span><script type="math/tex">DK</script></span>, the domain knowledges to use.
Currently, the only officialy supported keys are "conversion", "existence", "taxonomy" and "miscellanous",
corresponding to their eponym object from <code>olaaaf.domainKnowledge</code>.
The order on which the domain knowledges are given in this dictionary is the order in which they will be used for the inference process.
Therefore, it is heavily recommended to have the domain knowledge in the following order: "conversion", "existence", "taxonomy" and "miscellanous".</dd>
<dt><strong><code>domainKnowledgeInclusion</code></strong> :&ensp;<code>dict[str, boolean]</code></dt>
<dd>Wether the corresponding domain knowledge should be used in the knowledge revision process.
By default, all domain knowledge are used.
Removing specific domain knowledges from this process will result in faster computation time, but might affect the result.</dd>
<dt><strong><code>withTableaux</code></strong> :&ensp;<code>boolean</code></dt>
<dd>Wether the analytic tableaux method should be used to prune unsatisfiable branches. By default, set to <code>True</code>.</dd>
<dt><strong><code>withMaxDist</code></strong> :&ensp;<code>boolean</code></dt>
<dd>Wether the currently known maximum distance should be used during the revision process. By default, set to <code>True</code>.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Fraction</code></dt>
<dd>Distance (calculated with the <code>olaaaf.distance.distance_function.distanceFunction.DistanceFunction</code>
given at the initialization of the class) between <span><span class="MathJax_Preview">srce_case</span><script type="math/tex">srce_case</script></span> and <span><span class="MathJax_Preview">tgt_problem</span><script type="math/tex">tgt_problem</script></span>.</dd>
</dl>
<p><code>olaaaf.formula.formula.Formula</code>
Result of the adaptation of <span><span class="MathJax_Preview">srce_case</span><script type="math/tex">srce_case</script></span> by <span><span class="MathJax_Preview">tgt_problem</span><script type="math/tex">tgt_problem</script></span>.</p></div>
</dd>
<dt id="src.olaaaf.adaptation.Adaptation.preload"><code class="name flex">
<span>def <span class="ident">preload</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Methd used to preload the adaptation algorithm.</p>
<p>This step is necessary before using <code>execute</code> and recommended before the domain knowledge definition since it translates every
non-<code>olaaaf.formula.nullaryFormula.constraint.linearConstraint.LinearConstraint</code> into one and introduces new under-the-box variables that the user might want to use.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="src.olaaaf" href="index.html">src.olaaaf</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="src.olaaaf.adaptation.Adaptation" href="#src.olaaaf.adaptation.Adaptation">Adaptation</a></code></h4>
<ul class="">
<li><code><a title="src.olaaaf.adaptation.Adaptation.execute" href="#src.olaaaf.adaptation.Adaptation.execute">execute</a></code></li>
<li><code><a title="src.olaaaf.adaptation.Adaptation.preload" href="#src.olaaaf.adaptation.Adaptation.preload">preload</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
